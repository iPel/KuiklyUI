/*
 * Tencent is pleased to support the open source community by making KuiklyUI
 * available.
 * Copyright (C) 2025 Tencent. All rights reserved.
 * Licensed under the License of KuiklyUI;
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * https://github.com/Tencent-TDS/KuiklyUI/blob/main/LICENSE
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import { KRAny, KRArray, KRRecord, KuiklyRenderBaseModule, KuiklyRenderCallback } from '@kuikly-open/render';

export class KRMyLogModule extends KuiklyRenderBaseModule {
  // å®šä¹‰æ¨¡å—åï¼ˆæ³¨å†Œæ—¶ç”¨åˆ°ï¼Œå…¨å±€å”¯ä¸€ï¼‰
  static readonly MODULE_NAME = 'KRMyLogModule';

  // æ˜¯å¦åŒæ­¥æ¨¡å¼ï¼ˆåŒæ­¥æ¨¡å¼çš„moduleè¿è¡Œåœ¨kuiklyçº¿ç¨‹ï¼Œæ”¯æŒåŒæ­¥è°ƒç”¨å’Œå¼‚æ­¥è°ƒç”¨ï¼› å¼‚æ­¥æ¨¡å¼çš„moduleè¿è¡Œåœ¨uiçº¿ç¨‹ï¼Œåªæ”¯æŒå¼‚æ­¥è°ƒç”¨ï¼‰
  syncMode(): boolean {
    return true;
  }

  call(method: string, params: KRAny, callback: KuiklyRenderCallback | null): KRAny {
    // åˆ†å‘å“åº”
    switch (method) {
      case 'test':
        console.log(params?.toString());
        // æµ‹è¯•è¿”å›å¤æ‚ Object ç±»å‹
        const res: Record<string, ESObject> = {
          // åµŒå¥— Object
          "nested": {
            "key1": "value1",
            "key2": "value2"
          },
          // åŸºç¡€ç±»å‹
          "string": "ä¸­æ–‡æµ‹è¯•ğŸ‰",
          "int": 100,
          "float": 3.14159,
          "negative": -50,
          "boolTrue": true,
          "boolFalse": false,
          // Array
          "intArray": [1, 2, 3],
          "strArray": ["a", "b", "c"],
          // æ··åˆ Array
          "mixedArray": [1, "str", true, {"innerKey": "innerValue"}],
          // è¾¹ç•Œæƒ…å†µ
          "emptyObj": {},
          "emptyArr": [],
          "emptyStr": "",
          "zero": 0,
          "largeNum": 9999999999
        }
        return res;

      default:
        return null;
    }
  }
}
