files:
  # Gradle Wrapper 版本切换
  - path: gradle/wrapper/gradle-wrapper.properties
    replacements:
      - from: distributionUrl=https://services.gradle.org/distributions/gradle-7.6.3-bin.zip
        to: distributionUrl=https://services.gradle.org/distributions/gradle-5.4.1-bin.zip
  # ConvertUtil 语法兼容
  - path: core/src/commonMain/kotlin/com/tencent/kuikly/core/utils/ConvertUtil.kt
    replacements:
      - from: md5L16.encodeToByteArray()
        to: md5L16.toByteArray(Charsets.UTF_8)
      - from: lowercase
        to: toLowerCase
  # PagerManager 语法兼容
  - path: core/src/commonMain/kotlin/com/tencent/kuikly/core/manager/PagerManager.kt
    replacements:
      - from: lowercase
        to: toLowerCase
  # useInMemoryPgpKeys 签名兼容
  - path: buildSrc/src/main/java/KuiklyKotlinBuildVar.kt
    replacements:
      - from: useInMemoryPgpKeys(keyId, secretKey, password)
        to: useInMemoryPgpKeys(secretKey, password)
  # AbstractCoroutine 1.3 兼容：CancellationException 导入与构造
  - path: core/src/commonMain/kotlin/com/tencent/kuikly/core/coroutines/AbstractCoroutine.kt
    replacements:
      - from: import kotlin.coroutines.cancellation.CancellationException
        to: import java.util.concurrent.CancellationException
      - from: CancellationException("cancelled", cause)
        to: CancellationException("cancelled").also { it.initCause(cause) }
  # Builders 1.3 兼容：CancellationException 导入
  - path: core/src/commonMain/kotlin/com/tencent/kuikly/core/coroutines/Builders.kt
    replacements:
      - from: import kotlin.coroutines.cancellation.CancellationException
        to: import java.util.concurrent.CancellationException
  # KRBaseLengthFilter 兼容：Char.code -> Char.toInt()
  - path: core-render-android/src/main/java/com/tencent/kuikly/core/render/android/expand/component/input/KRBaseLengthFilter.kt
    replacements:
      - from: this[index].code
        to: this[index].toInt()
